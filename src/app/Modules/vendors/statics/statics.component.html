<div class="grid trs mb-8" #dd>
    <div class="flex p-3">
        <span class="text-3xl ont-semibold font-bold mx-2" translate>Supplier Statistics</span>
            <p-speedDial style="padding-inline: 1rem;" buttonClassName="dashbored-btn" direction="right" showIcon="pi pi-filter " [model]="items"></p-speedDial>

    </div>
    <div class="col-12 flex">

        <div class=" col-3 flipup animation-duration-1000">
            <div style="background: linear-gradient(#007f6a5c, transparent);"
                class="card flex flex-row justify-content-evenly align-items-center">
                <div class="flex">
                    <i class="pi pi-wallet text-4xl text-green-400"></i>
                </div>
                <div class="flex-column">
                    <span class="text-lg font-semibold" translate>Paid Amount</span>
                    <div class="text-2xl font-bold text-green-600 mt-2">
                        {{data?.cash| number:'1.2-2'}} {{getCurrencySymbol(cur.code)}}
                    </div>
                </div>
            </div>

        </div>
        <div class=" col-3 flipup animation-duration-1000">
            <div style="background: linear-gradient(#007f6a5c, transparent);"
                class="card flex flex-row justify-content-evenly align-items-center">
                <div class="flex">
                    <i class="pi pi-ticket text-4xl text-green-400"></i>
                </div>
                <div class="flex-column">
                    <span class="text-lg font-semibold" translate>Purchase Orders</span>
                    <div class="text-2xl font-bold text-green-600 mt-2">
                        {{data?.count}}
                    </div>
                </div>
            </div>

        </div>
        <div class=" col-3 flipup animation-duration-1000">
            <div style="background: linear-gradient(#007f6a5c, transparent);"
                class="card flex flex-row justify-content-evenly align-items-center">
                <div class="flex">
                    <i class="pi pi-dollar text-4xl text-green-400"></i>
                </div>
                <div class="flex-column">
                    <span class="text-lg font-semibold" translate>Cost Price</span>
                    <div class="text-2xl font-bold text-green-600 mt-2">
                        {{data?.cost| number:'1.2-2'}} {{getCurrencySymbol(cur.code)}}
                    </div>
                </div>
            </div>

        </div>
        <div class=" col-3 flipup animation-duration-1000">
            <div style="background: linear-gradient(#007f6a5c, transparent);"
                class="card flex flex-row justify-content-evenly align-items-center">
                <div class="flex">
                    <i class="pi pi-wallet text-4xl text-green-400"></i>
                </div>
                <div class="flex-column">
                    <span class="text-lg font-semibold" translate>Cash Amount</span>
                    <div class="text-2xl font-bold text-green-600 mt-2">
                        $12,345.67
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="col-12 flex">

        <div class="col-6 lg:col-6">
            <div class="card cardColor">
                <div class="row flex justify-content-between">
                    <div class="col-6">
                        <h5>{{"Top 5 Products"| translate}}</h5>
                    </div>
                    <div class="col-6" style="display: flex;align-items: flex-end;flex-direction: column">
                        <h5 style="font-size: small">{{'Date'|translate}} :{{fromDate | date:'YYYY-MM-dd'}}</h5>
                        <h5 style="font-size: small"
                            *ngIf="(fromDate| date:'YYYY-MM-dd') != (toDate| date:'YYYY-MM-dd')">{{'To Date'|translate}}
                            :{{toDate | date:'YYYY-MM-dd'}}</h5>
                    </div>
                </div>
                <p-chart type="bar" *ngIf="data?.topProducts?.length" [data]="topProductsChart" [options]="basicOptions"
                    height="51vh"></p-chart>
                <div style="height:51vh" *ngIf="!data?.topProducts?.length" class="text-center">
                    <h4 style="padding-top: 21vh;" translate>
                        <i class="mx-2 pi pi-exclamation-circle text-xl font-bold"
                            style=" color:var(--danger)  !important;"></i>
                        No Data to View Chart
                    </h4>
                </div>
            </div>
        </div>
        <div class="col-6 lg:col-6">
            <div class="card cardColor">
                <div class="row flex justify-content-between">
                    <div class="col-6">
                        <h5>{{"Top 5 Sold Products"| translate}}</h5>
                    </div>
                    <div class="col-6" style="display: flex;align-items: flex-end;flex-direction: column">
                        <h5 style="font-size: small">{{'Date'|translate}} :{{fromDate | date:'YYYY-MM-dd'}}</h5>
                        <h5 style="font-size: small"
                            *ngIf="(fromDate| date:'YYYY-MM-dd') != (toDate| date:'YYYY-MM-dd')">{{'To Date'|translate}}
                            :{{toDate | date:'YYYY-MM-dd'}}</h5>
                    </div>
                </div>
                <p-chart type="bar" *ngIf="data.costestPorducts?.length" [data]="topCostProducts"
                    [options]="basicOptions" height="51vh"></p-chart>
                <div style="height:51vh" *ngIf="!data.costestPorducts?.length" class="text-center">
                    <h4 style="padding-top: 21vh;" translate>
                        <i class="mx-2 pi pi-exclamation-circle text-xl font-bold"
                            style=" color:var(--danger)  !important;"></i>
                        No Data to View Chart
                    </h4>
                </div>
            </div>
        </div>
    </div>

    <app-modal [(display)]="poDashboard" class="modal-lg">
  <div body>
    <p-accordion *ngFor="let body of data.entities">
      <!-- <p-accordionTab [header]="body.orderNo +body.appointment.customer.firstName">
                <p >{{body.services}}</p>
            </p-accordionTab> -->
      <p-accordionTab>
        <ng-template pTemplate="header">
          <span pTooltip="{{ 'Company' | translate }}" showDelay="1000" hideDelay="1000" tooltipPosition="bottom"
            class="vertical-align-middle py-2">{{ body.vendor.company }}</span>
          <span pTooltip="{{ 'PO No.' | translate }}" showDelay="1000" hideDelay="1000" tooltipPosition="bottom"
            class="vertical-align-middle">{{ body.no }}</span>
          <span pTooltip="{{ 'Creation Date' | translate }}" showDelay="1000" hideDelay="1000" tooltipPosition="bottom"
            class="vertical-align-middle py-2">{{ body.createdAt | date : "dd/MM/yyyy hh:mm A" }}</span>
          <span pTooltip="{{ 'Cash' | translate }}" showDelay="1000" hideDelay="1000" tooltipPosition="bottom"
            class="vertical-align-middle">{{ body.cash }} {{ getCurrencySymbol(cur.code) }}</span>
          <span pTooltip="{{ 'Status' | translate }}" showDelay="1000" hideDelay="1000" tooltipPosition="bottom"
            [class]="body.status">{{ body.status | translate }}
          </span>
        </ng-template>
        <ng-template pTemplate="content">
          <div *ngIf="body.products?.length" class="mt-3">
            <p-table [value]="body.products" [tableStyle]="{ 'width.%': 100 }">
              <ng-template pTemplate="header">
                <tr>
                  <th translate>Product Name</th>
                  <th translate>Sell Price</th>
                  <th translate>Quantity</th>
                  <th translate>Brand</th>
                  <th translate>Total</th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-product let-s="rowIndex">
                <tr>
                  <td class="px-2 font-bold">{{ product.name }}</td>
                  <td>
                    <span class="px-2 font-bold">
                      <input type="number" [value]="product.price" disabled [ngModelOptions]="{ standalone: true }"
                        pInputText [(ngModel)]="product.sellPrice" />
                    </span>
                  </td>
                  <td>
                    <span class="font-bold">
                      <input type="number" name="qty{{ s }}" disabled pInputText [(ngModel)]="product.qty" />
                    </span>
                  </td>
                  <td>
                    <span class="font-bold">
                      {{ product?.brand?.name }}
                    </span>
                  </td>
                  <td>
                    <span class="font-bold">
                      {{ product.sellPrice * product.qty }}
                      {{ getCurrencySymbol(cur.code) }}
                    </span>
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </div>
          <div class="grid">
            <div class="col-12">
              <h4 class="text-primary text-center pointer" (click)="viewPoOrder(body)"
                style="font-size: 1rem; margin: auto; padding-top: 1rem" translate>
                View Purchase Order
              </h4>
            </div>
          </div>
        </ng-template>
      </p-accordionTab>
    </p-accordion>
  </div>
</app-modal>

    <app-from-to-date (displayChange)="displayDate=false" [(display)]="displayDate"
    (dateChange)="getVendorStatics($event)"></app-from-to-date>

    <app-purchase-order-form *ngIf="showPoOrderSidebar" [po]="selectedPo" [(display)]="showPoOrderSidebar"
  [detailMode]="true"></app-purchase-order-form>